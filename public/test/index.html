<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<title>TV Manager Test Suite</title>

		<!--
			Source Files
		-->

		<!-- Framework -->
		<script src="../framework/jquery-1.5.min.js" type="text/javascript"></script>
		<script src="../framework/jquery-ui-1.8.7.custom.min.js" type="text/javascript"></script>
		<script src="../framework/jquery.iphoneui.js" type="text/javascript"></script>
		<script src="../framework/jshash-2.2/md5-min.js" type="text/javascript"></script>
		<script src="../framework/sw/spinningwheel-min.js" type="text/javascript"></script>
		<script src="../framework/abc/abc.js" type="text/javascript"></script>

		<!-- Components -->
		<script src="../components/list.js" type="text/javascript"></script>
		<script src="../components/progressBar.js" type="text/javascript"></script>
		<script src="../components/toucheventproxy.js" type="text/javascript"></script>

		<!-- Models -->
		<script src="../models/program-model.js" type="text/javascript"></script>
		<script src="../models/series-model.js" type="text/javascript"></script>
		<script src="../models/episode-model.js" type="text/javascript"></script>
		<script src="../models/setting-model.js" type="text/javascript"></script>

		<!-- Controllers -->
		<script src="../controllers/application-controller.js" type="text/javascript"></script>
		<script src="../controllers/cache-controller.js" type="text/javascript"></script>
		<script src="../controllers/database-controller.js" type="text/javascript"></script>
		<script src="../controllers/dataSync-controller.js" type="text/javascript"></script>
		<script src="../controllers/schedule-controller.js" type="text/javascript"></script>
		<script src="../controllers/unscheduled-controller.js" type="text/javascript"></script>
		<script src="../controllers/programs-controller.js" type="text/javascript"></script>
		<script src="../controllers/program-controller.js" type="text/javascript"></script>
		<script src="../controllers/seriesList-controller.js" type="text/javascript"></script>
		<script src="../controllers/series-controller.js" type="text/javascript"></script>
		<script src="../controllers/episodes-controller.js" type="text/javascript"></script>
		<script src="../controllers/episode-controller.js" type="text/javascript"></script>
		<script src="../controllers/settings-controller.js" type="text/javascript"></script>
		<script src="../controllers/about-controller.js" type="text/javascript"></script>
		<script src="../controllers/report-controller.js" type="text/javascript"></script>

		<!--
			Test Files
		-->

		<!-- Framework -->
		<script src="framework/qunit.js" type="text/javascript"></script>

		<!-- Mock Objects -->
		<script src="mocks/database-mock.js" type="text/javascript"></script>
		<script src="mocks/sw-mock.js" type="text/javascript"></script>
		<script src="mocks/jQuery-mock.js" type="text/javascript"></script>
		<script src="mocks/list-mock.js" type="text/javascript"></script>
		<script src="mocks/progressBar-mock.js" type="text/javascript"></script>
		<script src="mocks/program-model-mock.js" type="text/javascript"></script>
		<script src="mocks/series-model-mock.js" type="text/javascript"></script>
		<script src="mocks/episode-model-mock.js" type="text/javascript"></script>
		<script src="mocks/setting-model-mock.js" type="text/javascript"></script>
		<script src="mocks/application-controller-mock.js" type="text/javascript"></script>
		<script src="mocks/cache-controller-mock.js" type="text/javascript"></script>
		<script src="mocks/database-controller-mock.js" type="text/javascript"></script>
		<script src="mocks/test-controller.js" type="text/javascript"></script>

		<!-- Components -->
		<script src="components/list.js" type="text/javascript"></script>
		<script src="components/progressBar.js" type="text/javascript"></script>
		<script src="components/toucheventproxy.js" type="text/javascript"></script>

		<!-- Models -->
		<script src="models/program-model.js" type="text/javascript"></script>
		<script src="models/series-model.js" type="text/javascript"></script>
		<script src="models/episode-model.js" type="text/javascript"></script>
		<script src="models/setting-model.js" type="text/javascript"></script>

		<!-- Controllers -->
		<script src="controllers/application-controller.js" type="text/javascript"></script>
		<script src="controllers/cache-controller.js" type="text/javascript"></script>
		<script src="controllers/database-controller.js" type="text/javascript"></script>
		<script src="controllers/dataSync-controller.js" type="text/javascript"></script>
		<script src="controllers/schedule-controller.js" type="text/javascript"></script>
		<script src="controllers/unscheduled-controller.js" type="text/javascript"></script>
		<script src="controllers/programs-controller.js" type="text/javascript"></script>
		<script src="controllers/program-controller.js" type="text/javascript"></script>
		<script src="controllers/seriesList-controller.js" type="text/javascript"></script>
		<script src="controllers/series-controller.js" type="text/javascript"></script>
		<script src="controllers/episodes-controller.js" type="text/javascript"></script>
		<script src="controllers/episode-controller.js" type="text/javascript"></script>
		<script src="controllers/settings-controller.js" type="text/javascript"></script>
		<script src="controllers/about-controller.js" type="text/javascript"></script>
		<script src="controllers/report-controller.js" type="text/javascript"></script>
		
		<!-- Main Entry Point -->
		<script type="text/javascript">
			$(function() {
				QUnit.config.autostart = false;

				$.ajax({
					url: "../test",
					type: "HEAD",
					success: function() {
						window.appController = new ApplicationControllerMock();
						start();
					},
					statusCode: {
						403: function() {
							if (window.confirm("WARNING: Server is not configured in test mode. Running the test suite now will export TEST data to the server storage (S3). Are you sure you want to do this?")) {
								window.appController = new ApplicationControllerMock();
								start();
							} else {
								$("<li>")
									.html("Testing aborted at users request")
									.appendTo("#qunit-tests");
							}
						}
					}
				});
			});
		</script>

		<!-- StyleSheets -->
		<link href="framework/qunit.css" media="screen" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<h1 id="qunit-header">TV Manager Test Suite</h1>
		<h2 id="qunit-banner"></h2>
		<div id="qunit-testrunner-toolbar"></div>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
		<div id="qunit-fixture">test markup</div>
	</body>
</html>
